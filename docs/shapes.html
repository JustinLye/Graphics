<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>jlg Docs - Shapes</title>
    <style>
        span.codeTab {
            padding-left: 2em;
        }
    </style>
</head>
<body>
    <a href="index.html">Index</a><br />
    <h1>shape.lib</h1>
    <p>The shape library consists of <a href="https://github.com/jlyee/opengl/blob/master/include/jlg/base/shape.h" target="_blank">shape.h</a> and <a href="https://github.com/jlyee/opengl/blob/master/include/jlg/base/shape_mgr.h" target="_blank">shape_mgr.h</a>.</p>
    <h2>shape.h</h2>
    <p>The shape header file declares <a href="#vertex_data_class">vertex_data class</a>, <a href="#attribute_struct"> attribute structure</a>, and the <a href="#shape_class">shape class</a>. These objects are defined in <a href="https://github.com/jlyee/opengl/blob/master/src/shape.cpp" target="_blank">shape.cpp</a>.</p>
    <h3 id="vertex_data_class">vertex_data class</h3>
    <p>The primary function of the <code>vertex_data</code> class is to store a copy of an array of floats that represent vertex data.</p>
    <p>When a <code>vertex_data</code> object is constructed, the vertex data array passed to the constructor is copied. The <code>vertex_data</code> class releases the copy of the data array when it is destructed.
    It is important to mention the method <code>vertices()</code> returns the pointer to the data array. The data member could be modified outside the <code>vertex_data</code> class.</p>
    <h3 id="attribute_struct">attribute struct</h3>
    <p>The primary function <code>attribute</code> struct is encapsulate vertex attribute information into a single vertex</p>
    <h3 id="shape_class">shape class</h3>
    <p>The primary function of the <code>shape</code> class is to serve as an interface with vertex data and vertex attributes.</p>
    <p>The <code>shape</code> class is derived from <code>vertex_data</code>. Vertex array attributes can be added using the method <code>add_attrib()</code>.
    The <code>shape</code> class can be buffered and drawn using the methods <code>buffer()</code> and <code>draw()</code> respectively.</p>
    <p>Attributes of vertex data within the <code>shape</code> class are limited the number (or count) of elements effected. Attribute indices are handled internally.</p>
    <h2>shape_mgr.h</h2>
    <p>The shape_mgr header file declares the <a href="#shape_mgr_class">shape_mgr class</a>. The <code>shape_mgr</code> class is defined in <a href="https://github.com/jlyee/opengl/blob/master/src/shape_mgr.cpp" target="_blank">shape_mgr.cpp</a>.</p>
    <h3 id="shape_mgr_class">shape_mgr class</h3>
    <p>As the name implies the primary function of the <code>shape_mgr</code> class is to manage a group of shapes.</p>
    <p>Interface with the shapes managed by a <code>shape_mgr</code> object is via a shape id. The method <code>gen_shape()</code> is used to add shapes the the shape manager class. A reference to a <code>GLuint</code> is passed to the <code>gen_shape()</code> method through the <code>shape_id</code> parameter. The <code>shape_id</code> is filled with a value used to identify shapes managed by <code>shape_mgr</code>. The shape id is used to add attributes to a particular shape managed by the <code>shape_mgr</code> object via the <code>add_shape_attrib()</code> method.</p>
    <p>The following is an example of using the <code>shape_mgr</code> class to add a shape and attribute</p>
    <p><code>GLfloat triangle[] = {<br /><span class="codeTab">0.5f, 0.0f, 0.0f</span><br /><span class="codeTab">-0.5f, 0.0f, 0.0f</span><br /><span class="codeTab">0.0f, 0.5f, 0.0f</span><br />};<br />
        GLuint triangle_id;<br />jlg::shape_mgr shapes;<br />shapes.gen_shape(triangle_id, triangle, 3, 3);<br />shapes.add_shape_attrib(triangle_id, 3);<br /></code></p>
    <p>The method <code>buffer()</code> will invoke the <code>buffer()</code> method for each shape managed by the <code>shape_mgr</code> object. Likewise, the <code>draw()</code> method will invoke the <code>draw()</code> method for each shape managed by the <code>shape_mgr</code> object.</p>
</body>
</html>